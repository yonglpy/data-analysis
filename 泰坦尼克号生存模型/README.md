# 泰坦尼克号生存模型建立过程

## 1、对数据集中特征进行一些统计性描述

  1.1、绘图查看特征分布情况
  
  1.2、生存人数统计
  
  1.3、客舱等级人数分布
  
  1.4、年龄与生存的分布
  
  1.5、各个年龄存活人数分布情况
  
  1.6、各个登船口岸人数的分布情况
  
  1.7、客舱等级与生存是否有关系
  
  1.8、性别与生存是否有关系
  
  1.9、不同客舱不同性别的生存情况
  
  1.10、登陆港口与获救与否分布情况
  
  1.11、有船舱号和没船舱号与获救与否的关系
  
## 2、特征处理过程
  
  因为原始的数据中，很多特征里面的内容是不完全的，需要进一步处理才行，比如有的特征缺失某个值，有的特征非常的长尾等等。
  
  2.1、age数据处理
  
    age数据我们理解为是一个category类型的数据，并且其中包含有一些nan值。对于nan值的处理方法比较多，这里选择填充的办法进行处理。但是，这里的age虽然
    
    表示category的特征，但本身是数值型的，取均值填充什么的不太好，那么我们通过拟合的方式选择：
    
    1、将数据按照有年龄（不是nan）和没有年龄（是nan）分成两部分A，B。
    
    2、对于A部分，我们将年龄作为label，其他值作为样本，训练一个model出来。这里选择使用randomforest。
    
    3、对于B部分，我们将其认为是测试数据，利用训练好的模型，取计算每个样本的年龄。
    
    4、对于B部分，我们将其认为是测试数据，利用训练好的模型，取计算每个样本的年龄。
    
    然后根据模型预测的年龄，再把年龄做成分段的形式。先年龄分成7个区间，然后统计每个区间里面存活率，并作图，可以从图上得到结论是：
    
      1、如果年龄在0~10岁的话，获救概率在0.6以上
      
      2、10~20和20~30岁获救的概率差不多，在0.3~0.35之间
      
      3、30~60岁之间，获救概率在0.4左右，
      
      4、在60岁以上，获救概率又下来了，只有0.3不到。
      
     因此我们把年龄再分为几段：
     
     1：0~10   child
     
     2：10~30  young man
     
     3: 30~60  man
     
     4: 60~    elder
     
   最后在对特征age做one-hot编码处理。
   
   2.2、cabin特征的处理
   
    对有记录的cabin写为yes，没有的写为no，然后进行one-hot编码处理
    
    2.3、对特征Embarked、Sex、Pclass做one-hot编码
    
    2.4、调用sklearn包对特征数据做归一化处理
    
## 3、模型建立
    
    选择了逻辑回归算法、支持向量机算法、随机森林算法分别训练模型，然后选择每种算法最优的参数组合，再这三种模型融合一起对测试数据集进行预测，最终再测
    
    试数据集上准确率达到0.9035。
    
    

